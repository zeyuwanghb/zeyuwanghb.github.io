---
layout: post
title:  "操作系统原理(三)"
categories: 操作系统
tags:   操作系统
author: ZyWang
excerpt: 操作系统原理 
---

****

## 进程间的通信方式 ##

不同进程间传播或交换信息--IPC，通常有管道(匿名、命名管道)、消息队列、信号量、共享内存、Socket、Streams，其中Socket和Streams支持不同主机上的两个进程IPC。

**管道**

它是半双工的，固定的读端和写端，只用于父子进程之间的进程通信，只存在于内存中，fork机制

![](https://img-blog.csdn.net/20170509162502566?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvc2t5cm9iZW4=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)


**命名管道**

FIFO可以在无关的进程之间交换数据，与无名管道不同，FIFO有路径名与之关联，以有名管道的文件形式存在于文件系统中，这样，无亲缘关系的进程，只需要访问路径名，就能够彼此通过有名管道来进行通信，以一种特殊设备文件形式存在于文件系统中，有名管道的名字存在于文件系统中，内容存放于内存中。

**消息队列**

消息队列，是消息的链接表，存在与内存中，一个消息队列由一个标识符ID来标识。消息队列是面向记录的，其中的消息具有特定的格式以及特定的优先级，可以实现消息的随即查询，不一定要先进先出。

每个消息队列的长度是有上限的

**信号量**

信号量是一个计数器，用于进程间的互斥与同步，基于操作系统的PV操作，P操作将信号量减1，小于0阻塞，V操作将信号量加1，程序对信号量的操作都是原子操作，每次对信号量的PV操作不仅限于对信号量加1或减1，还支持加减任意数。

**共享内存**

指两个或多个进程共享一个给定的储存区。

共享内存是一种最快的IPC方式，直接对内存进行存取，内核专门留出了一块内存区，可以由需要访问的进程将其映射到自己的私有内存地址空间，进程就可以之际读取内存而不需要拷贝，大大提升效率。

因为多个进程可以同时操作，所以需要进行同步，信号量+共享内存一块使用。

**Socket**

![](https://upload-images.jianshu.io/upload_images/1281379-2575b81bbab6b67b.png?imageMogr2/auto-orient/strip|imageView2/2/w/437/format/webp)


