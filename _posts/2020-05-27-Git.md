---
layout: post
title:  "ç©è½¬Gitä¸‰å‰‘å®¢"
categories: Git
tags:  Git
author: ZyWang
excerpt: æå®¢æ—¶é—´è¯¾ç¨‹ Git
---

****

## ç‰ˆæœ¬ç®¡ç†çš„æ¼”å˜ ##

###  é›†ä¸­å¼VCS
	æœ‰é›†ä¸­çš„ç‰ˆæœ¬ç®¡ç†æœåŠ¡å™¨ï¼›å¯ä»¥å¯¹æ–‡ä»¶ç‰ˆæœ¬è¿›è¡Œç®¡ç†ï¼Œæœ‰åˆ†æ”¯ç®¡ç†èƒ½åŠ›ï¼Œé›†æˆæ•ˆç‡æ˜æ˜¾æé«˜ï¼Œå®¢æˆ·ç«¯éœ€è¦æ—¶åˆ»å’ŒæœåŠ¡å™¨ç›¸è¿ã€‚

![](https://www.z4a.net/images/2020/05/28/3f30204905fbb57269af71a0374b48d.png)

### åˆ†å¸ƒå¼VCS ###
	æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯éƒ½æœ‰å®Œæ•´çš„ç‰ˆæœ¬åº“ï¼›è„±ç¦»æœåŠ¡ç«¯ç…§æ ·å¯ä»¥ç®¡ç†ç‰ˆæœ¬

![](https://www.z4a.net/images/2020/05/28/c80e977d073f6a480905fa051f6c66d.png)
### Gitçš„ç‰¹ç‚¹ ###
	å­˜å‚¨èƒ½åŠ›ä½³ï¼Œæ€§èƒ½æ¶ˆè€—å°ï¼Œå¼€æºç¤¾åŒºæ”¯æŒï¼Œæ”¯æŒç¦»çº¿ï¼Œåæ­£å°±æ˜¯å¾ˆå¼ºğŸ‘

## gitå®‰è£… ##
https://git-scm.com/book/zh/v2/%E8%B5%B7%E6%AD%A5-%E5%AE%89%E8%A3%85-Git 

å®˜ç½‘é“¾æ¥ï¼Œæœ‰ä¸­æ–‡å“¦ï¼ŒLinuxã€Macã€Windowséƒ½æœ‰å¯¹åº”å®‰è£…ç‰ˆæœ¬ï¼Œæ­¤å¤„ä»¥Windowsä¸ºä¾‹ï¼Œå®‰è£…å¾ˆç®€å•ï¼Œç‚¹å‡»ä¸‹è½½å³å¯ã€‚

ä¸‹è½½å®‰è£…å®Œæˆåï¼Œcmdè¾“å…¥git --versionï¼Œå¾—åˆ°ç‰ˆæœ¬å·è¯´æ˜å®‰è£…æˆåŠŸ

## gité…ç½® ##

é…ç½®user.nameå’Œuser.email æ–¹ä¾¿ä¸å˜æ›´è€…æ²Ÿé€š

	git config --global user.name 'your_name'
	git config --global user.email 'your_email'
configçš„ä¸‰ä¸ªä½œç”¨åŸŸ

	ç¼ºçœç­‰åŒäºlocal
	git config --local å¯¹å½“å‰ä»“åº“æœ‰æ•ˆ
	git config --global å¯¹å½“å‰ç”¨æˆ·æ‰€æœ‰ä»“åº“æœ‰æ•ˆ
	git config --system å¯¹ç³»ç»Ÿæ‰€æœ‰ç™»å½•çš„ç”¨æˆ·æœ‰æ•ˆ
	git config --list --local/global/system æŸ¥çœ‹configçš„é…ç½®ä¿¡æ¯
æ–‡ä»¶åœ°å€

	localçš„å†.git/configé‡Œé¢ï¼Œglobalå†ä¸ªäººhomeç›®å½•ä¸‹çš„.gitconfigé‡Œé¢ï¼Œsystemå†gitå®‰è£…ç›®å½•ä¸‹
## å»ºç«‹Gitä»“åº“ ##

### ä¸¤ç§åœºæ™¯ ###
	1.å°†å·²æœ‰çš„é¡¹ç›®ä»£ç çº³å…¥Gitç®¡ç†
		cd é¡¹ç›®æ‰€åœ¨çš„æ–‡ä»¶å¤¹
		git init
	2.æ–°å»ºçš„é¡¹ç›®ç›´æ¥ç”¨Gitç®¡ç†
		cd æ–‡ä»¶å¤¹
		git init your_project #å½“å‰è·¯å¾„ä¸‹åˆ›å»ºå’Œé¡¹ç›®åç§°åŒåçš„æ–‡ä»¶å¤¹
		cd your_project
åˆ©ç”¨æ–¹å¼2æ–°å»ºä¸€ä¸ªgité¡¹ç›®ï¼Œprojectä¸ºgit_learningï¼Œè¿›å…¥gitä¸­ï¼Œls -alæŸ¥çœ‹åªæœ‰åˆå§‹åŒ–çš„.gitæ–‡ä»¶ã€‚

å°†0-materialä¸­çš„readmeæ‹·è´è¿‡å»ï¼Œcp ../0-material/readme .

git add readme //åŠ å…¥åˆ°gitç®¡ç†ä¸­

git status //æŸ¥çœ‹æ–‡ä»¶çŠ¶æ€

git commit -m "Add readme"//

git log //æŸ¥çœ‹gitæ—¥å¿—ï¼Œç‰ˆæœ¬å·/ä½œè€…/æ—¶é—´ï¼Œlocalå½“å‰çš„è®¾ç½®å±æ€§çš„ä¼˜å…ˆçº§é«˜äºglobalçš„ä¼˜å…ˆçº§

## gitæš‚å­˜åŒº ##
![](https://www.z4a.net/images/2020/05/28/1f1d76331b35476e73c8f24c4813826.png)

åœ¨å·¥ä½œç›®å½•ä¸­ä¿®æ”¹çš„æ–‡ä»¶å¯ä»¥addåˆ°æš‚å­˜åŒºï¼Œaddå®Œfileéƒ½å¯ä»¥commitåˆ°æš‚å­˜åŒºï¼Œå†™æ¸…æ¥šå˜æ›´ç†ç”±

## ç»™æ–‡ä»¶é‡å‘½åçš„æ–¹æ³• ##

Liunxä¸‹ä½¿ç”¨mvå‘½ä»¤ï¼Œæ—¢å¯ä»¥ç§»åŠ¨æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ï¼Œè¿˜å¯ä»¥å¯¹æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹åšé‡å‘½åã€‚

mv readme readme.md

![](https://www.z4a.net/images/2020/05/28/668bf4c7e8520bac0eda362e6d1cae8.png) 

git reset --hard æ¸…é™¤æš‚å­˜åŒºå’Œå·¥ä½œç›®å½• æ¯”è¾ƒå±é™© æ…ç”¨ï¼

git mv readme readme.md //ä¸€ä¸ªå‘½ä»¤è¿›è¡Œé‡å‘½åï¼Œä»£æ›¿ä¸Šå›¾ä¸­çš„ä¸‰ä¸ªå‘½ä»¤

## git log æŸ¥çœ‹æ¼”å˜å†å² ##

git log æŸ¥çœ‹æ‰€æœ‰æ—¥å¿— å†—ä½™

git log --oneline æŸ¥çœ‹ç®€ä»‹ç‰ˆæœ¬

git log -n2 --oneline æŸ¥çœ‹æœ€è¿‘ä¸¤æ¬¡æ—¥å¿—

git branch -v æŸ¥çœ‹å½“å‰æ‰€åœ¨åˆ†æ”¯

git checkout -b temp ç‰ˆæœ¬å· åˆ›å»ºåå­—ä¸ºtempçš„åˆ†æ”¯

git checkout master åˆ‡æ¢ä¸ºmasteråˆ†æ”¯

git log --allæŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯çš„æ—¥å¿—å†å²

git log --oneline --all -n4 --graph åŠ graphçœ‹æ•´ä½“ç‰ˆæœ¬çš„æ¼”è¿›å†å²

gitk å‘½ä»¤æ¥æŸ¥çœ‹å›¾å½¢åŒ–çš„ç‰ˆæœ¬å†å²

![](https://s1.ax1x.com/2020/05/29/tukYwV.png)

## æ¢ç§˜.gitç›®å½• ##

git initç”Ÿæˆä»“åº“ï¼Œç”Ÿæˆ.gitæ–‡ä»¶å¤¹

### HEADæ–‡ä»¶ ###

ç”¨æ¥æè¿°å½“å‰æ‰€æŒ‡çš„åˆ†æ”¯ä¿¡æ¯

![](https://s1.ax1x.com/2020/05/29/tuVcT0.png)

### configæ–‡ä»¶ ###
		$ cat .git/config
		[core]
	        repositoryformatversion = 0
	        filemode = false
	        bare = false
	        logallrefupdates = true
	        ignorecase = true

		[user]
        	name = zywang
        	email = 424463221@qq.com

### refs/headsæ–‡ä»¶ ###

headsä¸­masteræ–‡ä»¶å­˜æ”¾çš„æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œä»£è¡¨å½“å‰åˆ†æ”¯æŒ‡å‘å“ªä¸€ä¸ªcommitä¿¡æ¯

	$ cat .git/refs/heads/master
		dd82bd4c7e53f658c0fd866f65949e0fee132cc6
	$ git log --oneline
		dd82bd4 (HEAD -> master) mv readme
		9ecc3b3 Add js
		ece5f15 Add style
		43c04d2 Add index+logo
		fa68cc4 Add readme
	$ git branch -v
		* master dd82bd4 mv readme
		  temp   3f91f77 Add TEST

### objectsæ–‡ä»¶ ###

é‡Œé¢å­˜æ”¾treeæ–‡ä»¶ï¼Œtreeæ–‡ä»¶ä¸­å­˜æ”¾çš„æ˜¯æŒ‡å‘blobæ–‡ä»¶çš„æŒ‡é’ˆã€‚blobæ–‡ä»¶å°±æ˜¯commitçš„æ–‡ä»¶

![](https://s1.ax1x.com/2020/05/29/tunQAI.png)

## commit tree blobä¸‰ç§æ–‡ä»¶ä¹‹é—´çš„å…³ç³» ##

ä¸€ä¸ªcommitå¯¹åº”ä¸€ä¸ªtreeï¼Œä»£è¡¨äº†æœ¬commitå½“å‰æ—¶é—´ç‚¹çš„å¿«ç…§ï¼›å¤§çš„treeä¸‹å¯ä»¥åµŒå¥—å°treeï¼Œç›´åˆ°åªå‰©ä¸‹æ–‡ä»¶ï¼Œblobæ–‡ä»¶è·Ÿæ–‡ä»¶åæ— å…³ï¼Œåªè¦æ–‡ä»¶å†…å®¹ç›¸åŒï¼Œéƒ½æ˜¯ä¸€ä¸ªblobæ–‡ä»¶ã€‚

![](https://s1.ax1x.com/2020/05/29/tuu0qH.png)

git cat-file -p hashå€¼ çœ‹hashå€¼æŒ‡é’ˆä¸‹çš„å†…å®¹

	$ git cat-file -t 3f91f777e8a526dfb70758803e323c14297b857a
	commit
	$ git cat-file -p 3f91f777e8a526dfb70758803e323c14297b857a
	tree 773e12bc1af11c60623e8738e98cfacc5267f8f5
	parent ece5f15d2326f8024819bf00d89b7c34249599eb
	author zywang <424463221@qq.com> 1590740787 +0100
	committer zywang <424463221@qq.com> 1590740787 +0100
	
	Add TEST

## åˆ†ç¦»å¤´æŒ‡é’ˆæƒ…å†µ ##

detached HEAD

git checkout æŸä¸ªcommitçš„hashå€¼

åˆ†ç¦»å¤´æŒ‡é’ˆæƒ…å†µä¸‹gitä¸ä¼šä¿å­˜æ›´æ”¹ï¼Œæ­¤æ—¶HEADä¸ä¼šå’Œä»»ä½•åˆ†æ”¯ç»‘å®šï¼Œåœ¨åˆ‡æ¢åˆ†æ”¯æ—¶ï¼Œä¼šè¢«gitä¸¢æ‰

## ç†è§£HEADå’Œbranch ##

HEADä¸ä»…å¯ä»¥æŒ‡å‘æŸä¸ªåˆ†æ”¯çš„æœ€åä¸€æ¬¡æäº¤ï¼Œè¿˜å¯ä»¥åœ¨åˆ†ç¦»å¤´æŒ‡é’ˆæƒ…å†µä¸‹ä¸ä¸ä»»ä½•åˆ†æ”¯æŒ‚é’©

åˆ‡æ¢åˆ†æ”¯æ—¶HEADä¼šè·Ÿç€å˜ï¼Œbranchæœ€ç»ˆä¹Ÿä¼šè½è„šäºæŸä¸ªcommit

![](https://s1.ax1x.com/2020/05/31/tl6aoF.png)

git diff commit1hash commit2hash //æ¯”è¾ƒå·®å¼‚

git diff HEAD HEAD^//æ¯”è¾ƒå½“å‰commitå’Œçˆ¶äº²commitçš„å·®å¼‚